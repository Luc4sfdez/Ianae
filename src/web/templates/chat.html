<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ§  IANAE - Tu Bibliotecario Personal</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ðŸ§  IANAE</h1>
            <p class="subtitle">Tu Bibliotecario Personal de IA</p>
            <div class="status" id="status">
                <span class="status-dot"></span>
                <span id="statusText">Conectando...</span>
            </div>
        </header>

        <main class="chat-container">
            <div class="messages-container" id="messagesContainer">
                <div class="message ianae-message">
                    <div class="message-avatar">ðŸ§ </div>
                    <div class="message-content">
                        <strong>IANAE:</strong> Â¡Hola Lucas! Soy tu bibliotecario personal. 
                        Tengo acceso a toda tu memoria de proyectos, patrones y conocimientos. 
                        Â¿En quÃ© puedo ayudarte hoy?
                    </div>
                    <div class="message-time" id="initialTime"></div>
                </div>
            </div>

            <div class="input-container">
                <div class="input-area">
                    <input 
                        type="text" 
                        id="messageInput" 
                        placeholder="PregÃºntame sobre tus proyectos, cÃ³digo, ideas..."
                        autocomplete="off"
                    >
                    <button id="sendButton" class="send-button">
                        <span id="sendIcon">ðŸ“¤</span>
                    </button>
                </div>
                <div class="input-hints">
                    <span class="hint">Ejemplos: "Â¿CÃ³mo optimicÃ© los tacÃ³grafos?" â€¢ "Patrones en mis proyectos OpenCV" â€¢ "Ideas para automatizaciÃ³n"</span>
                </div>
            </div>
        </main>

        <footer class="footer">
            <div class="memory-stats" id="memoryStats">
                <span>ðŸ“š Memoria cargada: <span id="conceptCount">---</span> conceptos</span>
                <span>ðŸ”— Relaciones: <span id="relationCount">---</span></span>
            </div>
        </footer>
    </div>

    <!-- Loading overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">IANAE estÃ¡ pensando...</div>
    </div>

    <script src="/static/js/chat.js"></script>
    <script>
        // Inicializar cuando carga la pÃ¡gina
        document.addEventListener('DOMContentLoaded', function() {
            initializeChat();
            loadMemoryStats();
            setInitialTime();
        });

        function setInitialTime() {
            const timeElement = document.getElementById('initialTime');
            const now = new Date();
            timeElement.textContent = now.toLocaleTimeString('es-ES', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
        }
    </script>
</body>
</html>